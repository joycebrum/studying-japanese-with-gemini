<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JLPT N5 Vocabulary Practice</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'Noto Sans JP', sans-serif;
        }
        .highlight {
            font-weight: bold;
            color: #3B82F6; /* blue-500 */
        }
        .correct {
            background-color: #22C55E !important; /* green-500 */
            color: white !important;
            border-color: #22C55E !important;
        }
        .incorrect {
            background-color: #EF4444 !important; /* red-500 */
            color: white !important;
            border-color: #EF4444 !important;
        }
        .correct-border {
            border-color: #22C55E !important; /* green-500 */
            border-width: 2px;
        }
    </style>
</head>
<body class="bg-slate-100 flex items-center justify-center min-h-screen">

    <div id="app" class="w-full max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-6 md:p-8 text-center">
        
        <h1 class="text-2xl md:text-3xl font-bold text-slate-800 mb-6">JLPT N5 Vocabulary Practice</h1>
        
        <!-- Japanese Sentence -->
        <div id="japanese-sentence-container" class="bg-slate-50 rounded-lg p-4 mb-6 min-h-[80px] flex items-center justify-center">
            <p id="japanese-sentence" class="text-xl md:text-2xl text-slate-700"></p>
        </div>

        <!-- English Translation (Initially Hidden) -->
        <div id="english-sentence-container" class="mb-6 min-h-[24px]">
            <p id="english-sentence" class="text-md text-slate-500 font-light hidden"></p>
        </div>

        <!-- Multiple Choice Options -->
        <div id="options-container" class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
            <button class="option-btn p-4 border-2 border-slate-300 rounded-lg text-lg text-slate-700 hover:bg-slate-100 transition-colors duration-200"></button>
            <button class="option-btn p-4 border-2 border-slate-300 rounded-lg text-lg text-slate-700 hover:bg-slate-100 transition-colors duration-200"></button>
            <button class="option-btn p-4 border-2 border-slate-300 rounded-lg text-lg text-slate-700 hover:bg-slate-100 transition-colors duration-200"></button>
            <button class="option-btn p-4 border-2 border-slate-300 rounded-lg text-lg text-slate-700 hover:bg-slate-100 transition-colors duration-200"></button>
        </div>

        <!-- Next Button (Initially Hidden) -->
        <div id="next-button-container" class="min-h-[60px] flex items-center justify-center">
            <button id="next-btn" class="hidden w-full sm:w-auto bg-blue-500 text-white font-bold py-3 px-8 rounded-lg text-lg hover:bg-blue-600 transition-transform duration-200 transform hover:scale-105">
                Next
            </button>
        </div>

    </div>

    <script>
        const vocabulary = [
            { word: '私', sentenceJP: '{word}は学生です。', sentenceEN: '<strong>I</strong> am a student.', correctMeaning: 'I; me', options: ['You', 'He', 'She'] },
            { word: 'です', sentenceJP: 'これは本{word}。', sentenceEN: 'This <strong>is</strong> a book.', correctMeaning: 'is; am; are', options: ['was', 'will be', 'is not'] },
            { word: '学生', sentenceJP: '田中さんは{word}です。', sentenceEN: 'Mr. Tanaka is a <strong>student</strong>.', correctMeaning: 'student', options: ['teacher', 'doctor', 'engineer'] },
            { word: '学校', sentenceJP: '{word}へ行きます。', sentenceEN: 'I go to <strong>school</strong>.', correctMeaning: 'school', options: ['hospital', 'park', 'station'] },
            { word: '先生', sentenceJP: '山田{word}は日本語を教えます。', sentenceEN: 'Teacher Yamada teaches Japanese.', correctMeaning: 'teacher', options: ['student', 'doctor', 'police officer'] },
            { word: '大きい', sentenceJP: 'この犬は{word}です。', sentenceEN: 'This dog is <strong>big</strong>.', correctMeaning: 'big', options: ['small', 'fast', 'red'] },
            { word: '小さい', sentenceJP: 'その猫は{word}です。', sentenceEN: 'That cat is <strong>small</strong>.', correctMeaning: 'small', options: ['big', 'black', 'cute'] },
            { word: '食べます', sentenceJP: '毎日ご飯を{word}。', sentenceEN: 'I <strong>eat</strong> rice every day.', correctMeaning: 'to eat', options: ['to drink', 'to sleep', 'to read'] },
            { word: '飲みます', sentenceJP: '水を{word}。', sentenceEN: 'I <strong>drink</strong> water.', correctMeaning: 'to drink', options: ['to eat', 'to see', 'to write'] },
            { word: '見ます', sentenceJP: 'テレビを{word}。', sentenceEN: 'I <strong>watch</strong> TV.', correctMeaning: 'to see; to watch', options: ['to listen', 'to speak', 'to buy'] },
            { word: '行きます', sentenceJP: '明日、京都へ{word}。', sentenceEN: 'I will <strong>go</strong> to Kyoto tomorrow.', correctMeaning: 'to go', options: ['to come', 'to return', 'to stay'] },
            { word: '今日', sentenceJP: '{word}は月曜日です。', sentenceEN: '<strong>Today</strong> is Monday.', correctMeaning: 'today', options: ['yesterday', 'tomorrow', 'tonight'] },
            { word: '明日', sentenceJP: '{word}は晴れです。', sentenceEN: '<strong>Tomorrow</strong> will be sunny.', correctMeaning: 'tomorrow', options: ['today', 'yesterday', 'the day after tomorrow'] },
            { word: '昨日', sentenceJP: '{word}、映画を見ました。', sentenceEN: '<strong>Yesterday</strong>, I watched a movie.', correctMeaning: 'yesterday', options: ['today', 'tomorrow', 'last week'] },
            { word: '時間', sentenceJP: '今、何{word}ですか。', sentenceEN: 'What <strong>time</strong> is it now?', correctMeaning: 'time', options: ['day', 'money', 'place'] },
        ];

        const japaneseSentenceEl = document.getElementById('japanese-sentence');
        const englishSentenceEl = document.getElementById('english-sentence');
        const optionsContainer = document.getElementById('options-container');
        const optionBtns = document.querySelectorAll('.option-btn');
        const nextBtn = document.getElementById('next-btn');

        let shuffledVocab = [];
        let currentWordIndex = 0;
        let hasAnswered = false;

        function shuffleArray(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function loadSentence() {
            hasAnswered = false;
            if (currentWordIndex >= shuffledVocab.length) {
                // Reshuffle and start over if we've gone through all words
                currentWordIndex = 0;
                shuffledVocab = shuffleArray([...vocabulary]);
            }
            
            const currentWord = shuffledVocab[currentWordIndex];
            
            // Display Japanese sentence with highlighted word
            const formattedJPSentence = currentWord.sentenceJP.replace('{word}', `<span class="highlight">${currentWord.word}</span>`);
            japaneseSentenceEl.innerHTML = formattedJPSentence;

            // Prepare English sentence but keep it hidden
            englishSentenceEl.innerHTML = currentWord.sentenceEN;
            englishSentenceEl.classList.add('hidden');

            // Shuffle and display options
            const options = shuffleArray([currentWord.correctMeaning, ...currentWord.options]);
            optionBtns.forEach((btn, index) => {
                btn.textContent = options[index];
                // Reset styles
                btn.className = 'option-btn p-4 border-2 border-slate-300 rounded-lg text-lg text-slate-700 hover:bg-slate-100 transition-colors duration-200';
                btn.disabled = false;
            });
            
            // Hide the next button
            nextBtn.classList.add('hidden');
        }

        function checkAnswer(e) {
            if (hasAnswered) return;
            hasAnswered = true;

            const selectedBtn = e.target;
            const selectedAnswer = selectedBtn.textContent;
            const correctAnswer = shuffledVocab[currentWordIndex].correctMeaning;

            optionBtns.forEach(btn => {
                btn.disabled = true; // Disable all buttons after an answer
                const btnAnswer = btn.textContent;
                if (btnAnswer === correctAnswer) {
                    if (selectedAnswer === correctAnswer) {
                        btn.classList.add('correct');
                    } else {
                        btn.classList.add('correct-border');
                    }
                } else if (btn === selectedBtn) {
                    btn.classList.add('incorrect');
                }
            });

            // Show translation and next button
            englishSentenceEl.classList.remove('hidden');
            nextBtn.classList.remove('hidden');
        }

        function nextSentence() {
            currentWordIndex++;
            loadSentence();
        }

        // Initialize App
        document.addEventListener('DOMContentLoaded', () => {
            shuffledVocab = shuffleArray([...vocabulary]);
            loadSentence();
        });

        optionBtns.forEach(btn => btn.addEventListener('click', checkAnswer));
        nextBtn.addEventListener('click', nextSentence);

    </script>
</body>
</html>
